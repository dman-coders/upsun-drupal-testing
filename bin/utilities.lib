
COLOR_RESET="\033[0m"
COLOR_GRAY="\033[90m"
COLOR_LIGHT_BLUE="\033[94m"
COLOR_YELLOW="\033[1;33m"

log_notice() {
  echo -e "  ${COLOR_LIGHT_BLUE}$*${COLOR_RESET}" >&2
}
log_info() {
  echo -e "  ${COLOR_GRAY}$*${COLOR_RESET}" >&2
}
log_warning() {
  echo -e "  ${COLOR_YELLOW}$*${COLOR_RESET}" >&2
}

# What is the base where the composer installation is located?
# Looks for composer.json
find_composer_json() {
  find_path "composer.json" $1
}

# What is the base where the composer installation is located?
# Looks for app.yaml
find_app_yaml() {
  find_path ".platform.app.yaml" $1
}

# Find a file in a given path (or current directory if not given)
# and return the shortest path found
find_path() {
  FILENAME="$1"
  SEARCH_PATH="${2:-./}"
  # Choose the shortest path
  SHORTEST_PATH=$( find "$SEARCH_PATH" -name "$FILENAME" 2>/dev/null | awk '{ print length, $0 }' | sort -n | cut -d' ' -f2- | head -1 )
  echo $SHORTEST_PATH
}
